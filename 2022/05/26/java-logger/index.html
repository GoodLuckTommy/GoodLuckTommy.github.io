<!DOCTYPE html>
<!-- <html lang="ko-KR"> -->
<html lang="ko-KR">
  <head>
    <meta name="naver-site-verification" content="a3b78e7583a82add276a9f9b528f942c5fb6e1e4" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-98X54TYEZZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-98X54TYEZZ');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java Logger 역사 | Tommy Han</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://goodlucktommy.github.io/rss.xml" title="Tommy Han RSS Feed">
    <meta name="description" content="log4j,slf4j, logback, log4j2등 java logger에 대해 정리해 보자">
    
    <link rel="preload" href="/assets/css/0.styles.e5ab6dc4.css" as="style"><link rel="preload" href="/assets/js/app.7e9693bf.js" as="script"><link rel="preload" href="/assets/js/6.8a9b5d0d.js" as="script"><link rel="preload" href="/assets/js/4.56e5175c.js" as="script"><link rel="preload" href="/assets/js/36.06363ff3.js" as="script"><link rel="prefetch" href="/assets/js/10.70aaba1c.js"><link rel="prefetch" href="/assets/js/11.3396f1ec.js"><link rel="prefetch" href="/assets/js/12.da19ddec.js"><link rel="prefetch" href="/assets/js/13.b1c4da7c.js"><link rel="prefetch" href="/assets/js/14.dd90e222.js"><link rel="prefetch" href="/assets/js/15.2ef2e380.js"><link rel="prefetch" href="/assets/js/16.1ed8a600.js"><link rel="prefetch" href="/assets/js/17.747d2bfa.js"><link rel="prefetch" href="/assets/js/18.52f5cbf7.js"><link rel="prefetch" href="/assets/js/19.e2eaec93.js"><link rel="prefetch" href="/assets/js/20.1fa52c60.js"><link rel="prefetch" href="/assets/js/21.dd9757c1.js"><link rel="prefetch" href="/assets/js/22.24b7cb1f.js"><link rel="prefetch" href="/assets/js/23.90722d2c.js"><link rel="prefetch" href="/assets/js/24.3cfe77e2.js"><link rel="prefetch" href="/assets/js/25.6a4ee474.js"><link rel="prefetch" href="/assets/js/26.0b8ec17a.js"><link rel="prefetch" href="/assets/js/27.cd8a5702.js"><link rel="prefetch" href="/assets/js/28.56c4d9d4.js"><link rel="prefetch" href="/assets/js/29.2ae857b2.js"><link rel="prefetch" href="/assets/js/3.047143ea.js"><link rel="prefetch" href="/assets/js/30.a66ae405.js"><link rel="prefetch" href="/assets/js/31.2508d1f6.js"><link rel="prefetch" href="/assets/js/32.88b58987.js"><link rel="prefetch" href="/assets/js/33.85004e1a.js"><link rel="prefetch" href="/assets/js/34.2ff31fb3.js"><link rel="prefetch" href="/assets/js/35.a3d5763a.js"><link rel="prefetch" href="/assets/js/37.ce8c0dfa.js"><link rel="prefetch" href="/assets/js/38.7220ed6a.js"><link rel="prefetch" href="/assets/js/39.1dca6e8b.js"><link rel="prefetch" href="/assets/js/40.6a70834e.js"><link rel="prefetch" href="/assets/js/41.5d236a09.js"><link rel="prefetch" href="/assets/js/42.1c66feae.js"><link rel="prefetch" href="/assets/js/43.162d3aad.js"><link rel="prefetch" href="/assets/js/5.9a328a17.js"><link rel="prefetch" href="/assets/js/7.1f65fabc.js"><link rel="prefetch" href="/assets/js/8.f226d68f.js"><link rel="prefetch" href="/assets/js/9.a4aff12e.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.2eb8daf5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e5ab6dc4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sign"><a href="/" class="nav-link home-link"><img id="sign-img" src="/sign.png"></a></div></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Tommy Han </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        Java Logger 역사
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2022-05-26T00:00:00.000Z">
      2022-05-26
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-450235f2><a href="/tag/java" data-v-450235f2><span data-v-450235f2>java</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="log4j-slf4j-logback-log4j-뭘-써야-하지"><a href="#log4j-slf4j-logback-log4j-뭘-써야-하지" class="header-anchor">#</a> log4j slf4j logback log4j 뭘 써야 하지?</h1> <p>이 소스 저 소스 보다 보면 여러 로그 라이브러리를 보게 된다. 어떤 것이 제일 좋을까? maven이나 gradle에 로그 라이브러리를 추가할때 왜 여러 로그를 설정하는 걸까? 그 놈이 그 놈아닌가? 이 참에 정리해 보자.</p> <h2 id="legacy-logging-libraries"><a href="#legacy-logging-libraries" class="header-anchor">#</a> Legacy Logging Libraries</h2> <h3 id="java-util-logging-jul"><a href="#java-util-logging-jul" class="header-anchor">#</a> java.util.logging(JUL)</h3> <ul><li>언어차원에서 지원하는 로거</li> <li>java 1.4버전(2002년) 부터 지원</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>logging<span class="token punctuation">.</span><span class="token class-name">Logger</span> logger <span class="token operator">=</span>  java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>logging<span class="token punctuation">.</span><span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;This is an info message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">severe</span><span class="token punctuation">(</span><span class="token string">&quot;This is an error message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR</span>
logger<span class="token punctuation">.</span><span class="token function">fine</span><span class="token punctuation">(</span><span class="token string">&quot;Here is a debug message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// DEBUG</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>server와 find은 생소해 보이지만 지금의 error, debug에 해당한다.</li> <li>File과 Console Handler를 지원.
<ul><li>File은 직접 핸들링, Console은 System.err사용</li></ul></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileHandler</span> fileHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileHandler</span><span class="token punctuation">(</span><span class="token string">&quot;status.log&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>fileHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>일관성 문제, 느린 성능, 부족하지만 복잡한 설정, 구린 문서화로 <a href="https://stackoverflow.com/questions/11359187/why-not-use-java-util-logging" target="_blank" rel="noopener noreferrer">불만<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>이 많았다.</li></ul> <h3 id="log4j"><a href="#log4j" class="header-anchor">#</a> Log4j</h3> <ul><li>오랜 시간 사랑받아온 기념비적인 로거</li> <li>최초 만든 사람은 <a href="https://twitter.com/ceki" target="_blank" rel="noopener noreferrer">Ceki Gülcü<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>2001년부터 시작해서 2015년까지 아파치 재단 하에 유지 보수 되었다.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span><span class="token class-name">Logger</span> logger <span class="token operator">=</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span><span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;This is an info message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;This is an error message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Here is a debug message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>error, debug 레벨 정립</li> <li>많은 appender 제공
<ul><li>SMTPAppender: email 전송</li> <li>SyslogAppenders: 원격 데몬 전송</li> <li>JdbcAppenders: DB 저장</li> <li><a href="https://stackoverflow.com/questions/31840/java-logging-vs-log4j/36482#36482" target="_blank" rel="noopener noreferrer">기타<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html" target="_blank" rel="noopener noreferrer">PatternLayout<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 최초 도입. 로그 레이아웃 커스텀 가능</li></ul> <center><img width="50%" height="50%" src="https://lh3.googleusercontent.com/fife/AAWUweU9vZAmN2ef3eX_djAY3YWdi1BncHjx84Lo3rianVy8zD1SPHRUc7-uELV0_0Z0oWHfybSkHn_9hOcv9BRKKwxY3zT9m4QygsJ1C1gq7vZXgtmjEOGZKDiebrWk_KTfnEu4LNy8ynx9po7dS_mlNGY-dS7R2-G4YXQu6tpY4rGj2GrrYFVoE9aaHvDztQOzWmTSQjSICGNzjObift8BgbhJDrUMqkmsdUZZ5ukGFCIj8QAVxMWyA9xIrp4Q13u5y3ZyC6DSjPDzhizSkiSqifJEb0kTIPA3Cpy_1npDFlR1dJjwN_OuGMlhSc6GYU3YAe13CgsUjvFkjOqKveSpyqcmmCGWZtI3AaM06a0zE0iRwKnMGTe0uyd3YYeSgTqfF3mrFY9ykOEnGADZx8E6Uf0Ra4gUY01SFkWTURQDqL4cYSStF-wqRv7szEFyDBP2l-BqgbYVHaw8d39l8i9qjCzhnW58SxmeQPEbML2co1gingi7QfHojIMeH-E8R7PzRFlmcGR-EuJK57-5AW88gh3FzSLFXJCE4tZXp5qEbKGRJ6wCtsS0mn-Dm3V4Al1UGtUq45We2a4ukMoHvEmK4UTqiJLExCcyvgyoh9aobXEVWcvbw0gYbX2OHQnqimCA3fC5aSpNLKImdYLgJMw-0uP3b7S1ChPbH2wR8qa_0l5dc3Mtl7WSt1xlrGYO3-uqb1YUXtyNDzfi8PINx38-sv413tB2mmzvgMBfITwHOK-jhapQWBWtuJWLAmYD8GlByBMYnfd_SMMJEFmkLvKaN1So9ex8L_Ut-i9tiCtmUpcN7Fw6sHn-QY3QR_1cbcyN187U7UdTWOrKMSO1xo7yBKCeEQcaGuU-YWaZck2Do_vgRFQ3vvFvAbN6TpTaRL2dw9H2OljRVD3FAT53dKicSclEAkpY-o0fVyBvbiOIUlNePOCKDBRreUOUvNfU0O_As3OkGFLtOLITiwctg8DDrllPZGwDWBWstoilAxRCgNQ3Fd3bAJRfP0Zq8Tl87kWrbMRL_tqjXssNTEbRyHqW1Y0lW825VKmvijVTS2zuA35BXDy57sAQnmNS5wyq8hnBxol44pYBMVnEPmHOIcjFQHLW_xALSWPTInMHEdhRmwDDKgJ2uKC6zRM3hSMpOwRBPD7zMUQEcjEkWOK8Obxy2zuQcOag0AkKXNubHocI5C6iwrTHmFPZ9n5b2ll-l2uh672KCEixUt4bZWEtkvFaEdT7V7GMmzMdel5bJx-3g_HYxgbtXfE3yT0l4c8ASXl4fVZk4pqlv6RRMj_xhdF10bf3r-3nkZ560erTz2ZsKFVRagzZRIWip3iWOPeR7eyH_09KHm-wk85TQh3bjvPj=w3456-h1822"></center> <center><h5> 바로 이 분!<br>세키님</h5></center> <h3 id="apache-commons-logging-jcl"><a href="#apache-commons-logging-jcl" class="header-anchor">#</a> Apache Commons Logging (JCL)</h3> <ul><li>비슷한 시기 2002년 태어난 로거</li> <li>Jakarta Commons Logging(JCL)이라고도 불린다.</li> <li>구현없는 오직 인터페이스 덩어리. 따라서 구현체 필요</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>logging<span class="token punctuation">.</span><span class="token class-name">Log</span> log <span class="token operator">=</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>logging<span class="token punctuation">.</span><span class="token class-name">LogFactory</span><span class="token punctuation">.</span><span class="token function">getLog</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;This is an info message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;This is an error message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Here is a debug message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>기냥 바로 log4j쓰면 안되나? 왜 필요할까?
<ul><li>다른 사용자를 위한 라이브러리를 작성한다고 가정해보자. 나는 log4j를 사용했는데, 다른 사용자는 다른 로거를 사용중에 있다면 충돌이 일어날 것이다. 인터페이스로만 참고하면 사용자마다 다른 구현체를 사용해도 문제없다.</li> <li>레거시 코드를 유지보수할때 로거 변경이 힘들 경우, 인터페이스 로거로 브릿지해서 종속성을 끊는다.</li></ul></li> <li>문제점
<ul><li>runtime에 로거 구현체가 로딩되는데, 구현체를 찾는 과정에서 classloader와 의존문제가 발생(자세한건 세키가 직접 작성한 <a href="https://articles.qos.ch/thinkAgain.html?" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>서 확인)</li></ul></li></ul> <h2 id="modern-logging-libraries"><a href="#modern-logging-libraries" class="header-anchor">#</a> Modern Logging Libraries</h2> <h3 id="slf4j-logback"><a href="#slf4j-logback" class="header-anchor">#</a> SLF4J &amp; Logback</h3> <ul><li><p>log4j를 만든 세키가 뛰쳐나와 자체적으로 새로운 로깅 프로젝트를 착수한다. 대략 2005년쯤 인듯</p></li> <li><p>이름하야 <em><strong>Logback</strong></em></p></li> <li><p><a href="https://www.qos.ch/" target="_blank" rel="noopener noreferrer">QOS.sh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에서 유지 보수</p></li> <li><p>더 강려크한 성능, 더 다양한 기능, test에 친화적, 문서 보강, 자동 설정, 우아한 오류처리등(자세한건 <a href="https://logback.qos.ch/reasonsToSwitch.html" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></li> <li><p>동시에 JCL 같은 Facade(혹은 Bridge) 인터페이스 덩어리 <em><strong>SLF4j</strong></em> 도 개발</p> <ul><li>따라서 구현체 필요</li> <li>logger.isDebugEnabled 사용할 필요가 없음</li> <li>컴파일 시점에 구현체 로거 선택됨</li></ul></li> <li><p>한 프로젝트에 여러 모듈이 다른 로거 사용 혹은 3rd파티 라이브러리들이 각각 다른 로거를 사용해도, 하나의 추상 로거 레이어로 감쌀 수 있다. xxx-over-slf4j로 끝나는 라이브러리가 이 용도(기존 로거는 exclude 해야함)</p></li> <li><p>따라서 실제 자주 보게 되는 로거 구조는</p> <ul><li>SLF4J</li> <li>구현체(Logback, Log4j등)</li> <li>한 프로젝트에 여러 로거를 통일 한다면 xxx-over-slf4j(log4j-over-slf4j, jul-to-slf4j등)</li></ul> <h3 id="log4j2"><a href="#log4j2" class="header-anchor">#</a> Log4j2</h3> <ul><li>Log4j의 공식 후속작. 2014년 릴리즈</li> <li>완전 새로 쓰여짐</li> <li>인터페이스 api와 실 구현체 core로 구성</li></ul></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>// Bridge api
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.17.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

// 구현체 core
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.17.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>core는 slf4j와도 같이 쓸 수 있다.</li> <li>slf4j보다 개선된 점
<ul><li>비동기 로깅</li> <li>람다식 가능</li> <li>향상된 가비지 컬렉션</li> <li>String외 타입 지원</li> <li>자세한 사항은 <a href="https://logging.apache.org/log4j/2.0/faq.html#api-tradeoffs" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>참조</li></ul></li> <li>사실 일반적인 어플리케이션에서는 성능 향상 체감이 어렵다. 아주 복잡하고 큰 어플리케이션에서는 약간의 성능향상이 있다고 함</li></ul> <h3 id="jbos-logging"><a href="#jbos-logging" class="header-anchor">#</a> Jbos Logging</h3> <ul><li>RedHat에서 유지보수</li> <li>Bridge 로거. 실 구현체 필요</li> <li>하이버네이트에서 사용(하이버네이트도 RedHat에서 관리)</li></ul> <h2 id="성능-비교"><a href="#성능-비교" class="header-anchor">#</a> 성능 비교</h2> <br> <img width="80%" height="80%" src="https://lh3.googleusercontent.com/fife/AAWUweUwfyyw50o5Oie-uCeoIsKVrz4vLn4npFMoA-IdFHSAnYtV9LZrSW3hhULwWde5SCpOMPOnNPSVkeqHk_4Hc6o5Wh5OLn9btFmapFecV8RRf9GwAjbgp91uOQQuhqfGnVgx4UblJfbd1pCY9nS2uqmrcidXdvLK9X6-k3A2bvwUTCQDuU94vpOoMUKPKCWHB5VCjFLJFO3daDwwIKf55EcdwWYHhVlLbkwMW7J3sqQvZ6gctErpnHJxn9mTiizD87dgGwdGAbIIaezjLz893JkQCmVE6gql5Ktskw6sLc7T21-QtU6P2n3d3yYJxaAkCOlGekLfnVBVAL7OmlEViE3zOKb9cS2Wh3-zyPUeGm1E0ShHJbU_aI3sgR5ksCHUdxKzynExYRqXMNtmCVkW8v4Pgg_edZDGo8KBrTZubmaXJfzUOEbTvrT-IOnXmk2m9mm-lR46dmabCtzvtU3DG4nqZaCG9jQpqIHMKKneNPShmfnvXNuuLD6pgq2clid6lX_H09QeOjde0J6PmjSiEqVsqc8VZXo0sP4r70cMJJPhkLukIKnjBeva_vrbfTpCg_rPrglN29r7E51ZXD2iEvVG5N42127LFz1eWo8bBdPHD8kWx3L_kY7LObLz7FWP6udu4G8H4U4si1ZyfFvy4nzt465HRWfvM3Aprh3acjnwJoKIapJLVCwzU-MunmX90x2FMyEaVFhWiReuxzfpz_lWHvb3BngghccQTaKzmoZlWObUWCZocPhVxw5_McuIt_g4d2VZG6AD-08QG0z86n4cod6yud2uQi9kt3xTk_HtwORTgoLwAyRCoKHllRkUi2kWx9cEcf8mbB3avDY6dbM1qWq4LE009yTQw3A6sBEm8_OxoVGucuh_tsnTsAsmXGYVR-Kk3hP7daDb2Tbp_nGUel36v-w4gx75xAHGwO0USr6d8ji-1tb5-37w3PoUDtx4DudLAhl7E6Rs2dOaEy8oZzoMwfAywZkSZfOtWEtWLC1eYz_EdVxFlqo-KZtGUFrImbeIwDgldDdtdZbKsWy7BVs3XUM3Znv7G1brbyzOm6CNr_xpZejWfGT4zYJwJs4nU8TPKd-QLJTVxrrjtVULcuyM7avy7FdylqrrV21iYRCG7X2TKZxDJjLdv18U_65twOPA-Ill-4Pc8bqM2KJa8QR1CG1l-dju7VMuLDLyhtWevcuxnUUOkLAyxUrbLV6HF9_woQagzXTMG_TRGWN8K7sZh04K_yehQxhzM6zAgeY_L0kp-hI8JBhk3QFrjTmtPPO0D2_JIz9c_G3d5Ja8zKT8Udj240StvNQ7jszUZU5Cvf8sT5ipqmsNmS2lgZCoZqdpVPxc7pOoYA=w3456-h1932" style="display:block;margin:0 auto;"> <p align="center"><a href="https://blog.sebastian-daschner.com/entries/logging-performance-comparison">출처</a></p><p></p><p>환경에 따라 다르겠지만, Log4j2가 logback보다 수치로는 두배정도 빠르다. 비동기 시에는 압도적으로 빠르다.</p> <h2 id="그래서-무엇을-쓸까"><a href="#그래서-무엇을-쓸까" class="header-anchor">#</a> 그래서 무엇을 쓸까</h2> <p>slf4j와 logback 조합이 가장 무난. 로그를 많이 남긴다 생각되면 log4j2</p></div> <br> <br> <br> <br> <footer><hr class="comment-line"> <script src="https://giscus.app/client.js" data-repo="GoodLuckTommy/blog-comment" data-repo-id="R_kgDOIDpIhQ" data-category="General" data-category-id="DIC_kwDOIDpIhc4CRmn6" data-mapping="pathname" data-strict="0" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="ko" data-loading="lazy" crossorigin="anonymous" async="async"></script></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#legacy-logging-libraries" title="Legacy Logging Libraries">Legacy Logging Libraries</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#java-util-logging-jul" title="java.util.logging(JUL)">java.util.logging(JUL)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#log4j" title="Log4j">Log4j</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#apache-commons-logging-jcl" title="Apache Commons Logging (JCL)">Apache Commons Logging (JCL)</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#modern-logging-libraries" title="Modern Logging Libraries">Modern Logging Libraries</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#slf4j-logback" title="SLF4J &amp; Logback">SLF4J &amp; Logback</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#log4j2" title="Log4j2">Log4j2</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#jbos-logging" title="Jbos Logging">Jbos Logging</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#성능-비교" title="성능 비교">성능 비교</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#그래서-무엇을-쓸까" title="그래서 무엇을 쓸까">그래서 무엇을 쓸까</a></div></div></div></div> <footer class="footer" data-v-4f6150ea><div class="footer-left-wrap" data-v-4f6150ea><ul class="contact" data-v-4f6150ea><li class="contact-item" data-v-4f6150ea><a href="https://github.com/GoodLuckTommy/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-4f6150ea><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-4f6150ea><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-4f6150ea></path></svg>
          
        </a></li><li class="contact-item" data-v-4f6150ea><a href="https://www.linkedin.com/in/seok-han-366205150/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-4f6150ea><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin" data-v-4f6150ea><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" data-v-4f6150ea></path><rect x="2" y="9" width="4" height="12" data-v-4f6150ea></rect><circle cx="4" cy="4" r="2" data-v-4f6150ea></circle></svg>
          
        </a></li><li class="contact-item" data-v-4f6150ea><a href="mailto:seok.han.io@gmail.com" class="nav-link external" data-v-4f6150ea><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-4f6150ea><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-4f6150ea></path><polyline points="22,6 12,13 2,6" data-v-4f6150ea></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-4f6150ea><ul class="copyright" data-v-4f6150ea><li class="copyright-item" data-v-4f6150ea>since 2021</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7e9693bf.js" defer></script><script src="/assets/js/6.8a9b5d0d.js" defer></script><script src="/assets/js/4.56e5175c.js" defer></script><script src="/assets/js/36.06363ff3.js" defer></script>
  </body>
</html>